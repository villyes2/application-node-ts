# application-node-ts
New Application
# CRUD Starter API

Start a CRUD API quickly using Node, Express & Postgres.

Serves four requests (get, post, put, delete) from one page with a separate function for each.

All code can be edited and replaced to fit the needs of the project being built.

**Dependencies**

We use **express** to serve the API, **body-parser** to parse responses, **postgres** for the database, **knex** as the query engine, **dotenv** to protect environment variables, **helmet** to add proper headers, **cors** to prevent/allow XSS, **morgan** as our logger, and **nodemon** as a dev dependency to watch for changes.

All dependencies are included in the cloned project.

## Instructions

**1. Clone the repo**

```
git clone https://github.com/villyes2/application-node-ts.git
```

**2. CD into the project**

```
cd application-node-ts
```

**3. Install dependencies**

```
npm install
```

**4. Start Postgres**

```
brew services start postgresql
```

**Note:** You can use Postgres or MYSQL. We are using Postgres. If you would like to use MYSQL instead of Postgres you will need to `npm uninstall pg` and `npm install mysql`. Then edit the above command to start MYSQL started on your computer.

**5. Create a database**

Change the database name to whatever you would like to name the database. Be sure to also change the database name in server.js to whatever you name the database.

```
createdb TESTDATA
```

**6. Create a database table**

Open pSequel and run the following command. Change the table name to whatever you would like to name the table.

```
CREATE TABLE public.testtable1
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    first character varying(180) COLLATE pg_catalog."default",
    last character varying(180) COLLATE pg_catalog."default",
    email character varying(180) COLLATE pg_catalog."default",
    phone numeric(11,0),
    location character varying(180) COLLATE pg_catalog."default",
    hobby character varying(180) COLLATE pg_catalog."default",
    CONSTRAINT testtable1_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE public.testtable1
    OWNER to postgres;
```

CREATE TABLE public.users
(
    uidno integer NOT NULL DEFAULT nextval('users_uidno_seq'::regclass),
    username character varying(90) COLLATE pg_catalog."default",
    password character varying(45) COLLATE pg_catalog."default",
    status integer,
    email character varying(90) COLLATE pg_catalog."default",
    password_digest character varying(144) COLLATE pg_catalog."default",
    timezone time with time zone,
    "createdAt" character varying(144) COLLATE pg_catalog."default",
    "updatedAt" character varying(144) COLLATE pg_catalog."default",
    CONSTRAINT users_pkey PRIMARY KEY (uidno),
    CONSTRAINT uname UNIQUE (username),
	CONSTRAINT uemail UNIQUE (email)

)

TABLESPACE pg_default;

ALTER TABLE public.users
    OWNER to postgres;
```
